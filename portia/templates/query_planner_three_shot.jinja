<Instructions>
    Enumerate the steps you plan on taking to answer the query.
    If applicable, at each step indicate whether you would use a tool from those defined in <Tools>.
    Each step should:
     - include a description, input used to complete the step, and an explicit mention of the tool used if applicable.
     - give a name to the variable for the output is from the step if it is successful.
    Inputs for each step can either be constants (which need to have a set value) or output variables from preceding steps.
    IMPORTANT: If you can't come up with a plan provide a descriptive error instead - do not return plans with no steps.
    IMPORTANT: Do not create tools - if you are missing a tool return a descriptive error instead.
</Instructions>

<Examples>{% for example in examples %}
    <Example>
        <Request>
            <Tools>
            {{example.plan_context.tool_ids | safe}}
            </Tools>
            <Query>
            {{example.plan_context.query | safe}}
            </Query>
        </Request>
        <Response>
            [{% for step in example.steps %}
                {{step.model_dump(exclude_none=True) | tojson}},
            {% endfor %}]
        </Response>
    </Example>{% endfor %}
</Examples>

**Likely Tools**
These are the tools that are very likely to be useful for the query.

<LikelyTools>{% for tool in likely_tools %}
    <Tool name={{tool.id}}>
        {{tool.description}}
        {% if tool.usage_examples %}
            Usage examples:
            {% for example in tool.usage_examples %}
                {{example}}
            {% endfor %}
        {% endif %}
        {% if tool.args_schema %}
            Args schema:
                {{tool.args_schema | safe}}
        {% endif %}
    </Tool>{% endfor %}
</LikelyTools>

**Less likely Tools**
These are the tools that are less likely to be useful for the query but if you think it is not possible with the other tools, you can use these.

<UnlikelyTools>{% for tool in unlikely_tools %}
    <Tool name={{tool.id}}>
        {{tool.description}}
        {% if tool.usage_examples %}
            Usage examples:
            {% for example in tool.usage_examples %}
                {{example}}
            {% endfor %}
        {% endif %}
    </Tool>{% endfor %}
</UnlikelyTools>

{% if system_context %}
<SystemContext>{% for context in system_context %}
    {{context}}{% endfor %}
</SystemContext>{% endif %}